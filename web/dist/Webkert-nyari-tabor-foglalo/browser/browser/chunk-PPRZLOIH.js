import"./chunk-VN3CQEPZ.js";import{a as Y,b as Z}from"./chunk-M2MH6365.js";import{g as j,h as N}from"./chunk-BPCAL4ZU.js";import{c as V,d as q,e as K,h as B,k as H,l as J,m as Q}from"./chunk-2P6VBIEU.js";import{B as L,C as A,D as h,F as _,G as T,I as D,J as G,K as O,N as R,v as P,x as I,z as s}from"./chunk-GH3LYR2B.js";import{a as W,b as X}from"./chunk-N54XC5ZN.js";import{g as y,l as U,m as z}from"./chunk-BN2YJQL2.js";import{Db as v,Ib as p,Mb as t,Nb as e,Ob as g,Sb as F,Wb as w,Xb as x,fc as n,gb as l,hc as k,lb as E,oc as M,sb as b,ta as C,ua as S,xb as c}from"./chunk-4Y4LFOUG.js";var ee=()=>["/login"];function te(i,r){i&1&&(t(0,"div",1)(1,"h2"),n(2,"Regisztr\xE1ci\xF3 folyamatban"),e(),g(3,"mat-spinner",3),t(4,"p"),n(5,"K\xE9rem v\xE1rjon..."),e()())}function ne(i,r){i&1&&(t(0,"mat-error"),n(1,"Adjon meg egy val\xF3s e-mail c\xEDmet!"),e())}function ie(i,r){i&1&&(t(0,"mat-error"),n(1,"A keresztn\xE9vnek legal\xE1bb 2 karakterb\u0151l kell \xE1llnia!"),e())}function oe(i,r){i&1&&(t(0,"mat-error"),n(1,"A vezet\xE9kn\xE9vnek legal\xE1bb 2 karakterb\u0151l kell \xE1llnia!"),e())}function ae(i,r){i&1&&(t(0,"mat-error"),n(1,"A jelsz\xF3nak legal\xE1bb 6 karakterb\u0151l kell \xE1llnia"),e())}function re(i,r){i&1&&(t(0,"mat-error"),n(1,"A jelszavak nem egyeznek meg!"),e())}function le(i,r){if(i&1&&(t(0,"div",13),n(1),e()),i&2){let o=x(2);l(),k(" ",o.signupError," ")}}function me(i,r){if(i&1){let o=F();t(0,"form",4),w("ngSubmit",function(){C(o);let d=x();return S(d.signup())}),t(1,"mat-form-field",5)(2,"mat-label"),n(3,"E-mail c\xEDm"),e(),g(4,"input",6),t(5,"mat-icon",7),n(6,"email"),e(),c(7,ne,2,0,"mat-error"),e(),t(8,"div",8)(9,"mat-form-field",5)(10,"mat-label"),n(11,"Keresztn\xE9v"),e(),g(12,"input",9),t(13,"mat-icon",7),n(14,"person"),e(),c(15,ie,2,0,"mat-error"),e(),t(16,"mat-form-field",5)(17,"mat-label"),n(18,"Vezet\xE9kn\xE9v"),e(),g(19,"input",10),t(20,"mat-icon",7),n(21,"person"),e(),c(22,oe,2,0,"mat-error"),e()(),t(23,"mat-form-field",5)(24,"mat-label"),n(25,"Jelsz\xF3"),e(),g(26,"input",11),t(27,"mat-icon",7),n(28,"lock"),e(),c(29,ae,2,0,"mat-error"),e(),t(30,"mat-form-field",5)(31,"mat-label"),n(32,"Jelsz\xF3 meger\u0151s\xEDt\xE9se"),e(),g(33,"input",12),t(34,"mat-icon",7),n(35,"lock"),e(),c(36,re,2,0,"mat-error"),e(),c(37,le,2,1,"div",13),t(38,"div",14)(39,"button",15),n(40,"Regiszr\xE1ci\xF3"),e(),t(41,"button",16),n(42,"M\xE1r van fi\xF3kod?"),e()()()}if(i&2){let o,m,d,f,u,a=x();v("formGroup",a.signUpForm),l(7),p((o=a.signUpForm.get("email"))!=null&&o.invalid&&((o=a.signUpForm.get("email"))!=null&&o.touched)?7:-1),l(8),p((m=a.signUpForm.get("name.firstname"))!=null&&m.invalid&&((m=a.signUpForm.get("name.firstname"))!=null&&m.touched)?15:-1),l(7),p((d=a.signUpForm.get("name.lastname"))!=null&&d.invalid&&((d=a.signUpForm.get("name.lastname"))!=null&&d.touched)?22:-1),l(7),p((f=a.signUpForm.get("password"))!=null&&f.invalid&&((f=a.signUpForm.get("password"))!=null&&f.touched)?29:-1),l(7),p(((u=a.signUpForm.get("rePassword"))==null?null:u.value)!==((u=a.signUpForm.get("password"))==null?null:u.value)?36:-1),l(),p(a.signupError?37:-1),l(2),v("disabled",a.signUpForm.invalid),l(2),v("routerLink",M(9,ee))}}var $=class i{constructor(r,o){this.router=r;this.authService=o}signUpForm=new h({email:new _("",[s.required,s.email]),password:new _("",[s.required,s.minLength(6)]),rePassword:new _("",[s.required]),name:new h({firstname:new _("",[s.required,s.minLength(2)]),lastname:new _("",[s.required,s.minLength(2)])})});isLoading=!1;showForm=!0;signupError="";signup(){if(this.signUpForm.invalid){this.signupError="K\xE9rj\xFCk, jav\xEDtsa ki az \u0171rlapon tal\xE1lhat\xF3 hib\xE1kat a bek\xFCld\xE9s el\u0151tt.";return}let r=this.signUpForm.get("password")?.value,o=this.signUpForm.get("rePassword")?.value;if(r!==o){this.signupError="A jelszavak nem egyeznek meg.";return}this.isLoading=!0,this.showForm=!1;let m={name:{firstname:this.signUpForm.value.name?.firstname||"",lastname:this.signUpForm.value.name?.lastname||""},email:this.signUpForm.value.email||"",camps:[]},d=this.signUpForm.value.email||"",f=this.signUpForm.value.password||"";this.authService.signUp(d,f,m).then(u=>{console.log("Sikeres regisztr\xE1ci\xF3: ",u.user),this.authService.updateLoginStatus(!0),this.router.navigateByUrl("/home")}).catch(u=>{switch(console.error("Hiba a regisztr\xE1ci\xF3 k\xF6zben: ",u),this.isLoading=!1,this.showForm=!0,u.code){case"auth/email-already-in-use":this.signupError="Ez az email c\xEDm m\xE1r haszn\xE1latban van.";break;case"auth/invalid-email":this.signupError="\xC9rv\xE9nytelen email c\xEDm.";break;case"auth/weak-password":this.signupError="A jelsz\xF3 t\xFAl gyenge. Haszn\xE1lj legal\xE1bb 6 karaktert.";break;default:this.signupError="Hiba t\xF6rt\xE9nt a regisztr\xE1ci\xF3 sor\xE1n. K\xE9rj\xFCk pr\xF3b\xE1ld \xFAjra k\xE9s\u0151bb."}})}static \u0275fac=function(o){return new(o||i)(E(U),E(P))};static \u0275cmp=b({type:i,selectors:[["app-signup"]],decls:5,vars:2,consts:[[1,"signup-container"],[1,"loading-container"],[1,"signup-form",3,"formGroup"],["diameter","50"],[1,"signup-form",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","email","formControlName","email"],["matSuffix",""],["formGroupName","name",1,"name-row"],["matInput","","formControlName","firstname"],["matInput","","formControlName","lastname"],["matInput","","type","password","formControlName","password"],["matInput","","type","password","formControlName","rePassword"],[1,"error-message"],[1,"buttons-row"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["mat-flat-button","",3,"routerLink"]],template:function(o,m){o&1&&(t(0,"div",0)(1,"h1"),n(2,"Fi\xF3k l\xE9trehoz\xE1sa"),e(),c(3,te,6,0,"div",1)(4,me,43,10,"form",2),e()),o&2&&(l(3),p(m.isLoading?3:-1),l(),p(m.showForm?4:-1))},dependencies:[y,R,T,I,L,A,D,O,G,H,B,V,q,K,Q,J,N,j,X,W,Z,Y,z],styles:[".signup-container[_ngcontent-%COMP%]{max-width:500px;margin:40px auto;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0003;text-align:center}.signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.name-row[_ngcontent-%COMP%]{display:flex;gap:16px}.buttons-row[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;margin-top:16px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:20px 0}@media (max-width: 576px){.name-row[_ngcontent-%COMP%], .buttons-row[_ngcontent-%COMP%]{flex-direction:column}}"]})};export{$ as SignupComponent};
